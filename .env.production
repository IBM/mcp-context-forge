# Production Environment Configuration for MCP Gateway
# Copy this file and adjust the values for your production deployment

#####################################
# Environment and Domain
#####################################

# Environment setting - set to production for enhanced security
ENVIRONMENT=production

# Your production domain (used for CORS and cookie security)
APP_DOMAIN=yourdomain.com

#####################################
# Security Settings
#####################################

# Force secure cookies in production
SECURE_COOKIES=true

# SameSite cookie attribute (strict recommended for production)
COOKIE_SAMESITE=strict

# CORS settings - only allow your specific domains
# Replace with your actual frontend domains
ALLOWED_ORIGINS='["https://yourdomain.com", "https://app.yourdomain.com", "https://admin.yourdomain.com"]'

# Enable CORS
CORS_ENABLED=true

# Allow credentials for authenticated requests
CORS_ALLOW_CREDENTIALS=true

# SSL verification should be enabled in production
SKIP_SSL_VERIFY=false

#####################################
# Authentication - CHANGE THESE!
#####################################

# Use strong, random passwords in production
BASIC_AUTH_USER=admin
BASIC_AUTH_PASSWORD=CHANGE_THIS_PASSWORD

# Use a strong, random JWT secret (minimum 32 characters)
JWT_SECRET_KEY=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_MINIMUM_32_CHARS

# Use a strong encryption secret for auth storage
AUTH_ENCRYPTION_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_PASSPHRASE

# Require authentication in production
AUTH_REQUIRED=true

# Enable JWT authentication for MCP clients
MCP_CLIENT_AUTH_ENABLED=true

# Only set TRUST_PROXY_AUTH=true if behind a trusted authentication proxy
TRUST_PROXY_AUTH=false

#####################################
# Application
#####################################

# Bind to all interfaces in containerized environments
HOST=0.0.0.0

# Standard HTTP port (adjust if using different port)
PORT=4444

# Use PostgreSQL in production for better performance and reliability
# DATABASE_URL=postgresql://username:password@db-host:5432/mcpgateway

# Use Redis for caching in production
CACHE_TYPE=redis
REDIS_URL=redis://redis-host:6379/0

#####################################
# Logging
#####################################

# Use structured JSON logging in production
LOG_FORMAT=json
LOG_LEVEL=INFO

# Enable file logging in production
LOG_TO_FILE=true
LOG_FILE=mcpgateway.log
LOG_FOLDER=/var/log/mcpgateway

# Enable log rotation for production
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE_MB=10
LOG_BACKUP_COUNT=5

#####################################
# Performance Tuning
#####################################

# Increase connection pool for production load
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=20

# Longer session TTL for production users
SESSION_TTL=7200

# Disable debug features in production
DEV_MODE=false
DEBUG=false
RELOAD=false

#####################################
# Observability
#####################################

# Enable observability in production
OTEL_ENABLE_OBSERVABILITY=true
OTEL_SERVICE_NAME=mcp-gateway
OTEL_DEPLOYMENT_ENVIRONMENT=production

# Configure your observability backend
# OTEL_EXPORTER_OTLP_ENDPOINT=https://your-observability-endpoint
# OTEL_EXPORTER_OTLP_HEADERS=api-key=your-api-key

#####################################
# Feature Flags
#####################################

# Enable admin UI and API (consider disabling API in high-security environments)
MCPGATEWAY_UI_ENABLED=true
MCPGATEWAY_ADMIN_API_ENABLED=true

# Disable bulk import in production for security
MCPGATEWAY_BULK_IMPORT_ENABLED=false

# Plugins should be carefully reviewed before enabling in production
PLUGINS_ENABLED=false