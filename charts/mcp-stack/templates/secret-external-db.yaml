{{- if .Values.postgres.external.enabled }}
########################################################################
# SECRET - External Database Connection
#
# This secret stores the DATABASE_URL for external managed databases
# (AWS RDS, Google Cloud SQL, Azure Database for PostgreSQL, etc.)
#
# Only created when postgres.external.enabled is true
########################################################################
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mcp-stack.fullname" . }}-external-db-secret
  labels:
    {{- include "mcp-stack.labels" . | nindent 4 }}
type: Opaque
stringData:
  DATABASE_URL: {{ .Values.postgres.external.databaseUrl | quote }}
{{- end }}

# Made with Bob
